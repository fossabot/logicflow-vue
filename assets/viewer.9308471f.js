var $=Object.defineProperty,R=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var T=(u,o,l)=>o in u?$(u,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):u[o]=l,H=(u,o)=>{for(var l in o||(o={}))G.call(o,l)&&T(u,l,o[l]);if(F)for(var l of F(o))J.call(o,l)&&T(u,l,o[l]);return u},S=(u,o)=>R(u,U(o));import"./style.426c20cf.js";import{d as D,t as P,o as B,e as O,w as n,a as e,u as s,v as I,y as E,z as p,A as K,C as Q,B as W,D as Z,E as q,G as X,J as Y,s as ee,K as r,H as A,j as ne,x as oe,L as te,M as ae,N as le,c as se,h as ie,O as ue,P as ce,Q as _e,R as pe,S as de,T as re,_ as me,b as he,f as ge}from"./vendor.30a14a4b.js";import{m as L,u as fe}from"./index.616bfb17.js";const ve=p("svg",{class:"icon",viewBox:"100 100 810 810",width:"1em",height:"1em"},[p("path",{d:"M316 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8zM512 622c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39zM512 482c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39z"}),p("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"}),p("path",{d:"M648 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8z"})],-1),ye=p("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[p("path",{d:"M144 112h232a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8H221.255l216.716 216.716a8 8 0 0 1 0 11.313l-33.942 33.942a8 8 0 0 1-11.313 0L176 221.255V376a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8V144c0-17.673 14.327-32 32-32z m-32 536v232c0 17.673 14.327 32 32 32h232a8 8 0 0 0 8-8v-48a8 8 0 0 0-8-8H221.884l215.901-215.901a8 8 0 0 0 0-11.314l-33.941-33.941a8 8 0 0 0-11.314 0L176 803.374V648a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8z m690.744 200L586.529 631.785a7.999 7.999 0 0 1 0-11.314l33.941-33.941a8 8 0 0 1 11.314 0L848 802.747V648a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v232c0 17.673-14.327 32-32 32H648a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h154.744zM912 376V144c0-17.673-14.327-32-32-32H648a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h155.373l-217.03 217.029a8 8 0 0 0 0 11.314l33.941 33.941a8 8 0 0 0 11.314 0L848 221.882V376a8 8 0 0 0 8 8h48a8 8 0 0 0 8-8z"})],-1),we=p("svg",{class:"icon",viewBox:"100 100 820 820",width:"1em",height:"1em"},[p("path",{d:"M541.141333 268.864l61.717334 16.938667-132.394667 482.474666-61.717333-16.938666 132.394666-482.474667zM329.002667 298.666667l44.885333 45.610666-175.36 172.586667 175.04 167.573333-44.266667 46.229334L106.666667 517.504 329.002667 298.666667z m355.882666 0l222.336 218.837333L684.586667 730.666667l-44.266667-46.229334 175.018667-167.573333L640 344.277333 684.885333 298.666667z"})],-1),Ce=D({setup(u){const{showMiniMap:o,toggleMiniMap:l,zoomOut:m,zoomIn:w,resetZoom:C,fitView:f,modelTypeOptions:x,modelType:_,changedModelType:z,codeDrawerVisible:h}=P("viewer_context");return(M,i)=>{const v=K,y=Q,c=W,t=Z,a=q,d=X,b=Y,k=ee;return B(),O(k,{type:"flex",justify:"space-between"},{default:n(()=>[e(d,null,{default:n(()=>[e(v,{onChange:s(z),dropdownMatchSelectWidth:!1,value:s(_),"onUpdate:value":i[0]||(i[0]=g=>I(_)?_.value=g:null),options:s(x)},null,8,["onChange","value","options"]),e(d,{size:0},{default:n(()=>[e(c,{onClick:s(m)},{icon:n(()=>[e(y)]),_:1},8,["onClick"]),e(c,{onClick:s(w)},{icon:n(()=>[e(t)]),_:1},8,["onClick"]),e(a,{title:"\u6062\u590D\u539F\u59CB\u5927\u5C0F\u548C\u4F4D\u7F6E"},{default:n(()=>[e(c,{onClick:s(C)},{icon:n(()=>[e(s(E),null,{component:n(()=>[ve]),_:1})]),_:1},8,["onClick"])]),_:1}),e(a,{title:"\u81EA\u9002\u5E94\u5927\u5C0F"},{default:n(()=>[e(c,{onClick:i[1]||(i[1]=g=>s(f)(100))},{icon:n(()=>[e(s(E),null,{component:n(()=>[ye]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{size:0},{default:n(()=>[e(a,{title:"\u663E\u793A/\u9690\u85CF \u7F29\u7565\u56FE\u5BFC\u822A"},{default:n(()=>[e(c,{onClick:i[2]||(i[2]=g=>s(l)()),type:s(o)?"primary":"default"},{icon:n(()=>[e(b)]),_:1},8,["type"])]),_:1}),e(a,{title:"\u67E5\u770B\u4EE3\u7801"},{default:n(()=>[e(c,{onClick:i[3]||(i[3]=g=>h.value=!0),type:s(h)?"primary":"default"},{icon:n(()=>[e(s(E),null,{component:n(()=>[we]),_:1})]),_:1},8,["type"])]),_:1})]),_:1})]),_:1})]),_:1})}}});const xe=D({setup(u){const o=new URLSearchParams(location.search),l=o.has("modelType")?o.get("modelType"):"bpmn",m=r(l),w=L.find(t=>t.name===m.value)||L[0],C=()=>{m.value&&(o.set("modelType",m.value),location.search=o.toString())},f=[];L.forEach(t=>{f.push({label:t.label,value:t.name})});const x=r(f),_=fe(w);A.registerLanguage("json",ne),A.registerLanguage("xml",oe);const z=he.component,h=r(!1),M=r(""),i=r(!1),v=r(!1),y=()=>{var a,d;let t;i.value?t=(a=_.lf)==null?void 0:a.getGraphRawData():t=(d=_.lf)==null?void 0:d.getGraphData(),typeof t=="object"&&(t=JSON.stringify(t,null,2)),M.value=t};te("viewer_context",S(H({},_),{modelTypeOptions:x,modelType:m,changedModelType:C,codeDrawerVisible:h}));const c=r();return ae(()=>{var a;if(!c.value){console.log("error container is null");return}const t={container:c.value,isSilentMode:!0,plugins:[le]};_.initLogicFlow(t),v.value=!!((a=_.lf)!=null&&a.adapterOut)}),(t,a)=>{const d=pe,b=de,k=ue,g=re,j=me,N=ce;return B(),se(ie,null,[e(k,{style:{height:"100%",width:"100%",margin:"0",overflow:"hidden"}},{default:n(()=>[e(d,{style:{background:"#fff",height:"48px","line-height":"48px",padding:"0 10px"}},{default:n(()=>[e(Ce)]),_:1}),e(b,null,{default:n(()=>[p("div",{ref_key:"container",ref:c,style:{height:"100%",width:"100%",padding:"4px","box-shadow":"0 0 4px rgb(0 0 0 / 30%) inset",background:"#fff"}},null,512)]),_:1})]),_:1}),e(N,{visible:h.value,"onUpdate:visible":a[1]||(a[1]=V=>h.value=V),title:"\u4EE3\u7801",placement:"right",size:"large",bodyStyle:{padding:0},onAfterVisibleChange:y},{extra:n(()=>[v.value?(B(),O(j,{key:0,label:"\u539F\u59CB\u4EE3\u7801",style:{margin:"0"}},{default:n(()=>[e(g,{checked:i.value,"onUpdate:checked":a[0]||(a[0]=V=>i.value=V),onChange:y},null,8,["checked"])]),_:1})):_e("",!0)]),default:n(()=>[e(s(z),{autodetect:"",code:M.value},null,8,["code"])]),_:1},8,["visible"])],64)}}});ge(xe).mount("#app");
