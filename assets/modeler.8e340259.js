var ue=Object.defineProperty,_e=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var Q=(_,t,l)=>t in _?ue(_,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[t]=l,Z=(_,t)=>{for(var l in t||(t={}))pe.call(t,l)&&Q(_,l,t[l]);if(W)for(var l of W(t))ce.call(t,l)&&Q(_,l,t[l]);return _},q=(_,t)=>_e(_,ie(t));import"./style.426c20cf.js";import{d as z,K as f,o as b,c as S,z as r,a5 as I,a as e,w as o,u as n,h as T,n as R,_ as A,a6 as Y,F as G,t as de,e as L,v as re,y as N,a7 as me,A as fe,a8 as ve,B as ge,a9 as he,aa as be,ab as ye,G as Ce,ac as xe,ad as ke,ae as we,C as Fe,D as Ee,E as ze,J as Me,af as Be,ag as De,s as Pe,H as X,j as Ve,x as Le,L as Se,M as Te,ah as Ae,ai as $e,aj as Ue,N as He,ak as je,al as Ne,O as Oe,P as Ie,am as Re,an as Ge,Q as Je,b as Ke,R as We,S as Qe,ao as Ze,T as qe,f as Xe}from"./vendor.30a14a4b.js";import{a as J,m as O,b as Ye}from"./index.616bfb17.js";import{_ as K}from"./PropertiesEditor.7a05efc5.js";const eo=z({setup(_){const t=J(),l=f("Default Properties Panel");return(v,s)=>{const g=R,i=A,m=Y,h=K,p=G;return b(),S(T,null,[r("h1",null,I(l.value),1),e(p,{layout:"vertical",class:"properties-panel-form",model:n(t),name:"ppform"},{default:o(()=>[e(i,{label:"\u7F16\u53F7",extra:"\u552F\u4E00\u6807\u8BC6"},{default:o(()=>[e(g,{value:n(t).id,"onUpdate:value":s[0]||(s[0]=d=>n(t).id=d)},null,8,["value"])]),_:1}),e(i,{label:"\u6587\u672C",name:"text"},{default:o(()=>[e(m,{value:n(t).text,"onUpdate:value":s[1]||(s[1]=d=>n(t).text=d),"auto-size":""},null,8,["value"])]),_:1}),e(i,{label:"\u6269\u5C55\u5C5E\u6027",name:"properties"},{default:o(()=>[e(h,{value:n(t).properties},null,8,["value"])]),_:1})]),_:1},8,["model"])],64)}}}),oo=z({setup(_){const t=J(),l=f("Process Properties Panel");return(v,s)=>{const g=R,i=A,m=K,h=G;return b(),S(T,null,[r("h1",null,I(l.value),1),e(h,{layout:"vertical",class:"properties-panel-form",model:n(t),name:"ppform"},{default:o(()=>[e(i,{label:"\u7F16\u53F7",extra:"\u6D41\u7A0B\u6A21\u578B\u7684\u552F\u4E00\u6807\u8BC6"},{default:o(()=>[e(g,{value:n(t).id,"onUpdate:value":s[0]||(s[0]=p=>n(t).id=p)},null,8,["value"])]),_:1}),e(i,{label:"\u6269\u5C55\u5C5E\u6027",name:"properties"},{default:o(()=>[e(m,{value:n(t).properties},null,8,["value"])]),_:1})]),_:1},8,["model"])],64)}}}),no=z({setup(_){const t=J(),l=f("User Task Properties Panel");return(v,s)=>{const g=R,i=A,m=Y,h=K,p=G;return b(),S(T,null,[r("h1",null,I(l.value),1),e(p,{layout:"vertical",class:"properties-panel-form",model:n(t),name:"ppform"},{default:o(()=>[e(i,{label:"\u7F16\u53F7",extra:"\u7528\u6237\u4EFB\u52A1\u7684\u552F\u4E00\u6807\u8BC6"},{default:o(()=>[e(g,{value:n(t).id,"onUpdate:value":s[0]||(s[0]=d=>n(t).id=d)},null,8,["value"])]),_:1}),e(i,{label:"\u6587\u672C",name:"text"},{default:o(()=>[e(m,{value:n(t).text,"onUpdate:value":s[1]||(s[1]=d=>n(t).text=d),"auto-size":""},null,8,["value"])]),_:1}),e(i,{label:"\u6269\u5C55\u5C5E\u6027",name:"properties"},{default:o(()=>[e(h,{value:n(t).properties},null,8,["value"])]),_:1})]),_:1},8,["model"])],64)}}});var to={default:eo,top:oo,"bpmn:userTask":no},ao={bpmn:to};const lo=me(" \u4FDD\u5B58 "),so=r("svg",{class:"icon",viewBox:"100 100 810 810",width:"1em",height:"1em"},[r("path",{d:"M316 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8zM512 622c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39zM512 482c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39z"}),r("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"}),r("path",{d:"M648 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8z"})],-1),uo=r("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[r("path",{d:"M144 112h232a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8H221.255l216.716 216.716a8 8 0 0 1 0 11.313l-33.942 33.942a8 8 0 0 1-11.313 0L176 221.255V376a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8V144c0-17.673 14.327-32 32-32z m-32 536v232c0 17.673 14.327 32 32 32h232a8 8 0 0 0 8-8v-48a8 8 0 0 0-8-8H221.884l215.901-215.901a8 8 0 0 0 0-11.314l-33.941-33.941a8 8 0 0 0-11.314 0L176 803.374V648a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8z m690.744 200L586.529 631.785a7.999 7.999 0 0 1 0-11.314l33.941-33.941a8 8 0 0 1 11.314 0L848 802.747V648a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v232c0 17.673-14.327 32-32 32H648a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h154.744zM912 376V144c0-17.673-14.327-32-32-32H648a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h155.373l-217.03 217.029a8 8 0 0 0 0 11.314l33.941 33.941a8 8 0 0 0 11.314 0L848 221.882V376a8 8 0 0 0 8 8h48a8 8 0 0 0 8-8z"})],-1),_o=r("svg",{class:"icon",viewBox:"100 100 820 820",width:"1em",height:"1em"},[r("path",{d:"M541.141333 268.864l61.717334 16.938667-132.394667 482.474666-61.717333-16.938666 132.394666-482.474667zM329.002667 298.666667l44.885333 45.610666-175.36 172.586667 175.04 167.573333-44.266667 46.229334L106.666667 517.504 329.002667 298.666667z m355.882666 0l222.336 218.837333L684.586667 730.666667l-44.266667-46.229334 175.018667-167.573333L640 344.277333 684.885333 298.666667z"})],-1),io=z({setup(_){const{showMiniMap:t,toggleMiniMap:l,zoomOut:v,zoomIn:s,resetZoom:g,fitView:i,modified:m,undoDisable:h,redoDisable:p,undo:d,redo:$,propertiesPanel:y,modelTypeOptions:M,modelType:C,changedModelType:B,codeDrawerVisible:F}=de("modeler_context");return(D,a)=>{const c=fe,w=ve,u=ge,U=he,P=be,H=ye,x=Ce,j=xe,k=ke,ee=we,oe=Fe,ne=Ee,E=ze,te=Me,ae=Be,le=De,se=Pe;return b(),L(se,{type:"flex",justify:"space-between"},{default:o(()=>[e(x,null,{default:o(()=>[e(c,{onChange:n(B),dropdownMatchSelectWidth:!1,value:n(C),"onUpdate:value":a[0]||(a[0]=V=>re(C)?C.value=V:null),options:n(M)},null,8,["onChange","value","options"]),e(x,{size:0},{default:o(()=>[e(u,{disabled:""},{icon:o(()=>[e(w)]),_:1}),e(u,{disabled:""},{icon:o(()=>[e(U)]),_:1}),e(u,{disabled:""},{icon:o(()=>[e(P)]),_:1}),e(u,{disabled:""},{icon:o(()=>[e(H)]),_:1})]),_:1}),e(u,{disabled:!n(m),type:"primary"},{icon:o(()=>[e(j)]),default:o(()=>[lo]),_:1},8,["disabled"]),e(x,{size:0},{default:o(()=>[e(u,{disabled:n(h),onClick:n(d)},{icon:o(()=>[e(k)]),_:1},8,["disabled","onClick"]),e(u,{disabled:n(p),onClick:n($)},{icon:o(()=>[e(ee)]),_:1},8,["disabled","onClick"])]),_:1}),e(x,{size:0},{default:o(()=>[e(u,{onClick:n(v)},{icon:o(()=>[e(oe)]),_:1},8,["onClick"]),e(u,{onClick:n(s)},{icon:o(()=>[e(ne)]),_:1},8,["onClick"]),e(E,{title:"\u6062\u590D\u539F\u59CB\u5927\u5C0F\u548C\u4F4D\u7F6E"},{default:o(()=>[e(u,{onClick:n(g)},{icon:o(()=>[e(n(N),null,{component:o(()=>[so]),_:1})]),_:1},8,["onClick"])]),_:1}),e(E,{title:"\u81EA\u9002\u5E94\u5927\u5C0F"},{default:o(()=>[e(u,{onClick:a[1]||(a[1]=V=>n(i)(100))},{icon:o(()=>[e(n(N),null,{component:o(()=>[uo]),_:1})]),_:1})]),_:1})]),_:1}),e(x,{size:0},{default:o(()=>[e(E,{title:"\u663E\u793A/\u9690\u85CF \u7F29\u7565\u56FE\u5BFC\u822A"},{default:o(()=>[e(u,{onClick:a[2]||(a[2]=V=>n(l)()),type:n(t)?"primary":"default"},{icon:o(()=>[e(te)]),_:1},8,["type"])]),_:1}),e(E,{title:"\u663E\u793A/\u9690\u85CF \u5C5E\u6027\u9762\u677F"},{default:o(()=>[e(u,{disabled:n(y).disabled,onClick:n(y).toggleCollapsed,type:n(y).collapsed?"default":"primary"},{icon:o(()=>[e(ae)]),_:1},8,["disabled","onClick","type"])]),_:1}),e(u,{disabled:""},{icon:o(()=>[e(le)]),_:1}),e(E,{title:"\u67E5\u770B\u4EE3\u7801"},{default:o(()=>[e(u,{onClick:a[3]||(a[3]=V=>F.value=!0),type:n(F)?"primary":"default"},{icon:o(()=>[e(n(N),null,{component:o(()=>[_o]),_:1})]),_:1},8,["type"])]),_:1})]),_:1})]),_:1})]),_:1})}}});const po=z({setup(_){const t=new URLSearchParams(location.search),l=t.has("modelType")?t.get("modelType"):"bpmn",v=f(l),s=O.find(a=>a.name===v.value)||O[0],g=ao[s.name],i=()=>{v.value&&(t.set("modelType",v.value),location.search=t.toString())},m=[];O.forEach(a=>{m.push({label:a.label,value:a.name})});const h=f(m),p=Ye(s,g),{propertiesPanel:d}=p;X.registerLanguage("json",Ve),X.registerLanguage("xml",Le);const $=Ke.component,y=f(!1),M=f(""),C=f(!1),B=f(!1),F=()=>{var c,w;let a;C.value?a=(c=p.lf)==null?void 0:c.getGraphRawData():a=(w=p.lf)==null?void 0:w.getGraphData(),typeof a=="object"&&(a=JSON.stringify(a,null,2)),M.value=a};Se("modeler_context",q(Z({},p),{modelTypeOptions:h,modelType:v,changedModelType:i,codeDrawerVisible:y}));const D=f();return Te(()=>{var c;if(!D.value){console.log("error container is null");return}const a={container:D.value,adjustEdgeStartAndEnd:!0,edgeTextDraggable:!0,keyboard:{enabled:!0},plugins:[Ae,$e,Ue,He,je,Ne]};p.initLogicFlow(a),B.value=!!((c=p.lf)!=null&&c.adapterOut)}),(a,c)=>{const w=We,u=Qe,U=Ze,P=Oe,H=qe,x=A,j=Ie;return b(),S(T,null,[e(P,{style:{height:"100%",width:"100%",margin:"0",overflow:"hidden"}},{default:o(()=>[e(w,{style:{background:"#fff",height:"48px","line-height":"48px",padding:"0 10px"}},{default:o(()=>[e(io)]),_:1}),e(P,{hasSider:""},{default:o(()=>[e(u,null,{default:o(()=>[r("div",{ref_key:"container",ref:D,style:{height:"100%",width:"100%",padding:"4px","box-shadow":"0 0 4px rgb(0 0 0 / 30%) inset",background:"#fff"}},null,512)]),_:1}),e(U,{collapsed:n(d).collapsed,"onUpdate:collapsed":c[0]||(c[0]=k=>n(d).collapsed=k),collapsible:"",collapsedWidth:"0",theme:"light",width:"240px",style:{"background-color":"#f8f8f8",border:"1px solid #ccc","overflow-x":"hidden","overflow-y":"auto"}},{default:o(()=>[(b(),L(Ge,null,[(b(),L(Re(n(d).component)))],1024))]),_:1},8,["collapsed"])]),_:1})]),_:1}),e(j,{visible:y.value,"onUpdate:visible":c[2]||(c[2]=k=>y.value=k),title:"\u4EE3\u7801",placement:"right",size:"large",bodyStyle:{padding:0},onAfterVisibleChange:F},{extra:o(()=>[B.value?(b(),L(x,{key:0,label:"\u539F\u59CB\u4EE3\u7801",style:{margin:"0"}},{default:o(()=>[e(H,{checked:C.value,"onUpdate:checked":c[1]||(c[1]=k=>C.value=k),onChange:F},null,8,["checked"])]),_:1})):Je("",!0)]),default:o(()=>[e(n($),{autodetect:"",code:M.value},null,8,["code"])]),_:1},8,["visible"])],64)}}});Xe(po).mount("#app");
