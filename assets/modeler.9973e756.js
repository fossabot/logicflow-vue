var se=Object.defineProperty,ue=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var W=(i,o,s)=>o in i?se(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,Z=(i,o)=>{for(var s in o||(o={}))ie.call(o,s)&&W(i,s,o[s]);if(J)for(var s of J(o))pe.call(o,s)&&W(i,s,o[s]);return i},q=(i,o)=>ue(i,_e(o));import{a as N,m as j,b as ce}from"./index.c22f9b1e.js";import{r as v,o as h,q as B,e as r,X as O,a as e,w as n,u as t,F as U,Y as R,A as S,Z as X,$ as G,d as Y,i as de,c as L,b as re,I,a0 as me,_ as fe,a1 as ve,B as ge,a2 as he,a3 as be,a4 as ye,j as Ce,a5 as xe,a6 as ke,a7 as we,f as ze,g as Me,h as Ee,k as Ve,a8 as Fe,a9 as Pe,l as De,H as K,m as Le,x as Be,p as Ue,n as Se,aa as Te,ab as $e,ac as Ae,M as He,ad as je,ae as Ie,s as Ne,t as Oe,af as Re,ag as Ge,v as Je,C as We,L as Ze,y as qe,ah as Ke,z as Xe,D as Ye}from"./vendor.5767e628.js";const Qe={setup(i){const o=N(),s=v("Default Properties Panel");return(g,a)=>{const d=R,p=S,f=X,m=G;return h(),B(U,null,[r("h1",null,O(s.value),1),e(m,{layout:"vertical",model:t(o),name:"ppform"},{default:n(()=>[e(p,{label:"\u7F16\u53F7"},{default:n(()=>[e(d,{value:t(o).id,"onUpdate:value":a[0]||(a[0]=u=>t(o).id=u)},null,8,["value"])]),_:1}),e(p,{label:"\u6587\u672C",name:"text"},{default:n(()=>[e(f,{value:t(o).text,"onUpdate:value":a[1]||(a[1]=u=>t(o).text=u),"auto-size":""},null,8,["value"])]),_:1}),e(p,{label:"\u6269\u5C55\u5C5E\u60271",name:["properties","test1"]},{default:n(()=>[e(d,{value:t(o).properties.test1,"onUpdate:value":a[2]||(a[2]=u=>t(o).properties.test1=u)},null,8,["value"])]),_:1})]),_:1},8,["model"])],64)}}},en={setup(i){const o=N(),s=v("Process Properties Panel");return(g,a)=>{const d=R,p=S,f=G;return h(),B(U,null,[r("h1",null,O(s.value),1),e(f,{layout:"vertical",model:t(o),name:"ppform"},{default:n(()=>[e(p,{label:"\u7F16\u53F7"},{default:n(()=>[e(d,{value:t(o).id,"onUpdate:value":a[0]||(a[0]=m=>t(o).id=m)},null,8,["value"])]),_:1}),e(p,{label:"\u6269\u5C55\u5C5E\u60271",name:["properties","test1"]},{default:n(()=>[e(d,{value:t(o).properties.test1,"onUpdate:value":a[1]||(a[1]=m=>t(o).properties.test1=m)},null,8,["value"])]),_:1})]),_:1},8,["model"])],64)}}},nn={setup(i){const o=N(),s=v("User Task Properties Panel");return(g,a)=>{const d=R,p=S,f=X,m=G;return h(),B(U,null,[r("h1",null,O(s.value),1),e(m,{layout:"vertical",model:t(o),name:"ppform"},{default:n(()=>[e(p,{label:"\u7F16\u53F7"},{default:n(()=>[e(d,{value:t(o).id,"onUpdate:value":a[0]||(a[0]=u=>t(o).id=u)},null,8,["value"])]),_:1}),e(p,{label:"\u6587\u672C",name:"text"},{default:n(()=>[e(f,{value:t(o).text,"onUpdate:value":a[1]||(a[1]=u=>t(o).text=u),"auto-size":""},null,8,["value"])]),_:1}),e(p,{label:"\u6269\u5C55\u5C5E\u60271",name:["properties","test2"]},{default:n(()=>[e(d,{value:t(o).properties.test2,"onUpdate:value":a[2]||(a[2]=u=>t(o).properties.test2=u)},null,8,["value"])]),_:1})]),_:1},8,["model"])],64)}}};var tn={default:Qe,top:en,"bpmn:userTask":nn},on={bpmn:tn};const an=me(" \u4FDD\u5B58 "),ln=r("svg",{class:"icon",viewBox:"100 100 810 810",width:"1em",height:"1em"},[r("path",{d:"M316 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8zM512 622c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39zM512 482c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39z"}),r("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"}),r("path",{d:"M648 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8z"})],-1),sn=r("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[r("path",{d:"M144 112h232a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8H221.255l216.716 216.716a8 8 0 0 1 0 11.313l-33.942 33.942a8 8 0 0 1-11.313 0L176 221.255V376a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8V144c0-17.673 14.327-32 32-32z m-32 536v232c0 17.673 14.327 32 32 32h232a8 8 0 0 0 8-8v-48a8 8 0 0 0-8-8H221.884l215.901-215.901a8 8 0 0 0 0-11.314l-33.941-33.941a8 8 0 0 0-11.314 0L176 803.374V648a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8z m690.744 200L586.529 631.785a7.999 7.999 0 0 1 0-11.314l33.941-33.941a8 8 0 0 1 11.314 0L848 802.747V648a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v232c0 17.673-14.327 32-32 32H648a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h154.744zM912 376V144c0-17.673-14.327-32-32-32H648a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h155.373l-217.03 217.029a8 8 0 0 0 0 11.314l33.941 33.941a8 8 0 0 0 11.314 0L848 221.882V376a8 8 0 0 0 8 8h48a8 8 0 0 0 8-8z"})],-1),un=r("svg",{class:"icon",viewBox:"100 100 820 820",width:"1em",height:"1em"},[r("path",{d:"M541.141333 268.864l61.717334 16.938667-132.394667 482.474666-61.717333-16.938666 132.394666-482.474667zM329.002667 298.666667l44.885333 45.610666-175.36 172.586667 175.04 167.573333-44.266667 46.229334L106.666667 517.504 329.002667 298.666667z m355.882666 0l222.336 218.837333L684.586667 730.666667l-44.266667-46.229334 175.018667-167.573333L640 344.277333 684.885333 298.666667z"})],-1),_n=Y({setup(i){const{showMiniMap:o,toggleMiniMap:s,zoomOut:g,zoomIn:a,resetZoom:d,fitView:p,modified:f,undoDisable:m,redoDisable:u,undo:w,redo:T,propertiesPanel:b,modelTypeOptions:E,modelType:y,changedModelType:V,codeDrawerVisible:z}=de("modeler_context");return(F,l)=>{const c=fe,k=ve,_=ge,$=he,P=be,A=ye,C=Ce,H=xe,x=ke,Q=we,ee=ze,ne=Me,M=Ee,te=Ve,oe=Fe,ae=Pe,le=De;return h(),L(le,{type:"flex",justify:"space-between"},{default:n(()=>[e(C,null,{default:n(()=>[e(c,{onChange:t(V),dropdownMatchSelectWidth:!1,value:t(y),"onUpdate:value":l[0]||(l[0]=D=>re(y)?y.value=D:null),options:t(E)},null,8,["onChange","value","options"]),e(C,{size:0},{default:n(()=>[e(_,{disabled:""},{icon:n(()=>[e(k)]),_:1}),e(_,{disabled:""},{icon:n(()=>[e($)]),_:1}),e(_,{disabled:""},{icon:n(()=>[e(P)]),_:1}),e(_,{disabled:""},{icon:n(()=>[e(A)]),_:1})]),_:1}),e(_,{disabled:!t(f),type:"primary"},{icon:n(()=>[e(H)]),default:n(()=>[an]),_:1},8,["disabled"]),e(C,{size:0},{default:n(()=>[e(_,{disabled:t(m),onClick:t(w)},{icon:n(()=>[e(x)]),_:1},8,["disabled","onClick"]),e(_,{disabled:t(u),onClick:t(T)},{icon:n(()=>[e(Q)]),_:1},8,["disabled","onClick"])]),_:1}),e(C,{size:0},{default:n(()=>[e(_,{onClick:t(g)},{icon:n(()=>[e(ee)]),_:1},8,["onClick"]),e(_,{onClick:t(a)},{icon:n(()=>[e(ne)]),_:1},8,["onClick"]),e(M,{title:"\u6062\u590D\u539F\u59CB\u5927\u5C0F\u548C\u4F4D\u7F6E"},{default:n(()=>[e(_,{onClick:t(d)},{icon:n(()=>[e(t(I),null,{component:n(()=>[ln]),_:1})]),_:1},8,["onClick"])]),_:1}),e(M,{title:"\u81EA\u9002\u5E94\u5927\u5C0F"},{default:n(()=>[e(_,{onClick:l[1]||(l[1]=D=>t(p)(100))},{icon:n(()=>[e(t(I),null,{component:n(()=>[sn]),_:1})]),_:1})]),_:1})]),_:1}),e(C,{size:0},{default:n(()=>[e(M,{title:"\u663E\u793A/\u9690\u85CF \u7F29\u7565\u56FE\u5BFC\u822A"},{default:n(()=>[e(_,{onClick:l[2]||(l[2]=D=>t(s)()),type:t(o)?"primary":"default"},{icon:n(()=>[e(te)]),_:1},8,["type"])]),_:1}),e(M,{title:"\u663E\u793A/\u9690\u85CF \u5C5E\u6027\u9762\u677F"},{default:n(()=>[e(_,{disabled:t(b).disabled,onClick:t(b).toggleCollapsed,type:t(b).collapsed?"default":"primary"},{icon:n(()=>[e(oe)]),_:1},8,["disabled","onClick","type"])]),_:1}),e(_,{disabled:""},{icon:n(()=>[e(ae)]),_:1}),e(M,{title:"\u67E5\u770B\u4EE3\u7801"},{default:n(()=>[e(_,{onClick:l[3]||(l[3]=D=>z.value=!0),type:t(z)?"primary":"default"},{icon:n(()=>[e(t(I),null,{component:n(()=>[un]),_:1})]),_:1},8,["type"])]),_:1})]),_:1})]),_:1})]),_:1})}}});const pn=Y({setup(i){const o=new URLSearchParams(location.search),s=o.has("modelType")?o.get("modelType"):"bpmn",g=v(s),a=j.find(l=>l.name===g.value)||j[0],d=on[a.name],p=()=>{g.value&&(o.set("modelType",g.value),location.search=o.toString())},f=[];j.forEach(l=>{f.push({label:l.label,value:l.name})});const m=v(f),u=ce(a,d),{propertiesPanel:w}=u;K.registerLanguage("json",Le),K.registerLanguage("xml",Be);const T=We.component,b=v(!1),E=v(""),y=v(!1),V=v(!1),z=()=>{var c,k;let l;y.value?l=(c=u.lf)==null?void 0:c.getGraphRawData():l=(k=u.lf)==null?void 0:k.getGraphData(),typeof l=="object"&&(l=JSON.stringify(l,null,2)),E.value=l};Ue("modeler_context",q(Z({},u),{modelTypeOptions:m,modelType:g,changedModelType:p,codeDrawerVisible:b}));const F=v();return Se(()=>{var c;if(!F.value){console.log("error container is null");return}const l={container:F.value,adjustEdgeStartAndEnd:!0,edgeTextDraggable:!0,keyboard:{enabled:!0},plugins:[Te,$e,Ae,He,je,Ie]};u.initLogicFlow(l),V.value=!!((c=u.lf)!=null&&c.adapterOut)}),(l,c)=>{const k=Ze,_=qe,$=Ke,P=Ne,A=Xe,C=S,H=Oe;return h(),B(U,null,[e(P,{style:{height:"100%",width:"100%",margin:"0",overflow:"hidden"}},{default:n(()=>[e(k,{style:{background:"#fff",height:"48px","line-height":"48px",padding:"0 10px"}},{default:n(()=>[e(_n)]),_:1}),e(P,{hasSider:""},{default:n(()=>[e(_,null,{default:n(()=>[r("div",{ref_key:"container",ref:F,style:{height:"100%",width:"100%",padding:"4px","box-shadow":"0 0 4px rgb(0 0 0 / 30%) inset",background:"#fff"}},null,512)]),_:1}),e($,{collapsed:t(w).collapsed,"onUpdate:collapsed":c[0]||(c[0]=x=>t(w).collapsed=x),collapsible:"",collapsedWidth:"0",theme:"light",width:"240px",style:{"background-color":"#f8f8f8",border:"1px solid #ccc"}},{default:n(()=>[(h(),L(Ge,null,[(h(),L(Re(t(w).component)))],1024))]),_:1},8,["collapsed"])]),_:1})]),_:1}),e(H,{visible:b.value,"onUpdate:visible":c[2]||(c[2]=x=>b.value=x),title:"\u4EE3\u7801",placement:"right",size:"large",bodyStyle:{padding:0},onAfterVisibleChange:z},{extra:n(()=>[V.value?(h(),L(C,{key:0,label:"\u539F\u59CB\u4EE3\u7801",style:{margin:"0"}},{default:n(()=>[e(A,{checked:y.value,"onUpdate:checked":c[1]||(c[1]=x=>y.value=x),onChange:z},null,8,["checked"])]),_:1})):Je("",!0)]),default:n(()=>[e(t(T),{autodetect:"",code:E.value},null,8,["code"])]),_:1},8,["visible"])],64)}}});Ye(pn).mount("#app");
